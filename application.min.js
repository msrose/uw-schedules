"use strict";!function(){var e=angular.module("uw-schedules",[]);e.controller("MainController",["$scope","schedule","$sce",function(e,r,t){e.data={title:"Schedule",term:1165,colors:"orange,#4D4DFF,red,yellow,#339933,pink,cyan",course_numbers:["3565","3135,3136","3231,3232","4377","4856","4368"]},e.searchParams={},e.error="",e.scheduleContent="Schedule will appear <em>here</em>",e.generating=!1,e.addCourse=function(){e.data.course_numbers.push("")},e.removeCourse=function(r){e.data.course_numbers.splice(r,1)},e.generateSchedule=function(){e.generating=!0,e.error="";var t=angular.copy(e.data);t.colors=t.colors.split(","),t.course_numbers.forEach(function(e,r,t){t[r]=e.split(",")}),r.generate(t).then(function(r){e.scheduleContent=r.data},function(r){e.error="Could not generate schedule: "+r.data,e.scheduleContent="Schedule will appear <em>here</em>"})["finally"](function(){e.generating=!1})},e.search=function(){var n=e.searchParams.subject||"";n=n.toUpperCase(),e.searchParams.subject=n;var a=e.searchParams.cournum;n&&a&&n.trim()&&a.trim()&&r.search(e.data.term,n,a).then(function(r){e.searchResults=t.trustAsHtml(r.data),$("#searchModal").modal()},function(r){e.error=r.data})}}]),e.factory("schedule",["$http",function(e){var r="http://107.20.22.194:4567";return{generate:function(t){return e.post(r+"/",t)},search:function(t,n,a){return e.get(r+"/search?term="+t+"&subject="+n+"&cournum="+a)}}}]),e.filter("toTrusted",["$sce",function(e){return function(r){return e.trustAsHtml(r)}}]),angular.element(document).on("ready",function(){angular.bootstrap(document,["uw-schedules"])})}();